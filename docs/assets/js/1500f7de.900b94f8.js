"use strict";(self.webpackChunkdbux_docs=self.webpackChunkdbux_docs||[]).push([[69],{3905:function(e,n,t){t.d(n,{Zo:function(){return m},kt:function(){return s}});var i=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,i,a=function(e,n){if(null==e)return{};var t,i,a={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var d=i.createContext({}),u=function(e){var n=i.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},m=function(e){var n=u(e.components);return i.createElement(d.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},c=i.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,d=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),c=u(t),s=a,k=c["".concat(d,".").concat(s)]||c[s]||p[s]||o;return t?i.createElement(k,r(r({ref:n},m),{},{components:t})):i.createElement(k,r({ref:n},m))}));function s(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,r=new Array(o);r[0]=c;var l={};for(var d in n)hasOwnProperty.call(n,d)&&(l[d]=n[d]);l.originalType=e,l.mdxType="string"==typeof e?e:a,r[1]=l;for(var u=2;u<o;u++)r[u]=t[u];return i.createElement.apply(null,r)}return i.createElement.apply(null,t)}c.displayName="MDXCreateElement"},633:function(e,n,t){t.d(n,{Z:function(){return u}});var i=t(7462),a=t(3366),o=t(7294),r=t(5350),l=t(8767);var d=["src","title","zoomable","darkLight"];function u(e){var n=e.src,t=e.title,u=e.zoomable,m=e.darkLight,p=(0,a.Z)(e,d),c=function(e){var n=e.src,t=e.darkLight,i=(0,r.Z)().isDarkTheme;return(0,l.Z)()+(t?i?"dark/":"light/":"")+n}({src:n,darkLight:m}),s=u?"zoomable":"",k=t=t||n;return o.createElement("img",(0,i.Z)({className:s,src:c,alt:k,title:t},p))}},8767:function(e,n,t){t.d(n,{Z:function(){return a}});var i=t(2263);function a(){return(0,i.Z)().siteConfig.baseUrl}},4078:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return d},contentTitle:function(){return u},metadata:function(){return m},toc:function(){return p},default:function(){return s}});var i=t(7462),a=t(3366),o=(t(7294),t(3905)),r=t(633),l=["components"],d={},u="Contributing",m={unversionedId:"advanced/contributing",id:"advanced/contributing",title:"Contributing",description:"Code of Conduct",source:"@site/content/04-advanced/03-contributing.md",sourceDirName:"04-advanced",slug:"/advanced/contributing",permalink:"/dbux/advanced/contributing",editUrl:"https://github.com/Domiii/dbux/blob/master/docs/content/content/04-advanced/03-contributing.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Known Limitations and Future Work",permalink:"/dbux/advanced/future-work"},next:{title:"Terminology",permalink:"/dbux/advanced/terminology"}},p=[{value:"Code of Conduct",id:"code-of-conduct",children:[],level:2},{value:"Development + Contributing: Getting Started",id:"development--contributing-getting-started",children:[{value:"Prerequisites",id:"prerequisites",children:[],level:3},{value:"Setup",id:"setup",children:[],level:3},{value:"Start development",id:"start-development",children:[],level:3},{value:"Adding dependencies",id:"adding-dependencies",children:[],level:3},{value:"Using Dbux Local Development Build",id:"using-dbux-local-development-build",children:[],level:3}],level:2},{value:"Joining the Community",id:"joining-the-community",children:[],level:2},{value:"VSCode extension development",id:"vscode-extension-development",children:[{value:"Adding a command/button",id:"adding-a-commandbutton",children:[],level:3}],level:2},{value:"Joining the Community",id:"joining-the-community-1",children:[],level:2}],c={toc:p};function s(e){var n=e.components,t=(0,a.Z)(e,l);return(0,o.kt)("wrapper",(0,i.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"contributing"},"Contributing"),(0,o.kt)("h2",{id:"code-of-conduct"},"Code of Conduct"),(0,o.kt)("p",null,"TODO"),(0,o.kt)("h2",{id:"development--contributing-getting-started"},"Development + Contributing: Getting Started"),(0,o.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"bash"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"On Windows, you can get this via cygwin or ",(0,o.kt)("inlineCode",{parentName:"li"},"git")," (which also installs cygwin)"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.volta.sh/guide/getting-started"},"Volta"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"Volta"),", unlike ",(0,o.kt)("inlineCode",{parentName:"li"},"n")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"nvm"),", is fully cross-platform."),(0,o.kt)("li",{parentName:"ul"},"We recommend using volta to manage ",(0,o.kt)("inlineCode",{parentName:"li"},"node"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"npm")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"yarn"),". It is a breeze to work with, and makes version management child's play."),(0,o.kt)("li",{parentName:"ul"},"Make sure to delete ",(0,o.kt)("inlineCode",{parentName:"li"},"node"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"yarn")," (and possibly ",(0,o.kt)("inlineCode",{parentName:"li"},"n")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"nvm")," if you have it) first"),(0,o.kt)("li",{parentName:"ul"},"Use ",(0,o.kt)("inlineCode",{parentName:"li"},"volta")," to install ",(0,o.kt)("inlineCode",{parentName:"li"},"node")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"yarn"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"node",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"we recommend ",(0,o.kt)("inlineCode",{parentName:"li"},"node@16")," or higher for better support of source maps (node source map support used to be very slow before ",(0,o.kt)("inlineCode",{parentName:"li"},"node@16"),")."))),(0,o.kt)("li",{parentName:"ul"},"yarn")))))),(0,o.kt)("h3",{id:"setup"},"Setup"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"git clone https://github.com/Domiii/dbux.git\ncd dbux\ncode dbux.code-workspace # open project in vscode\nyarn install && yarn i # install dependencies\n")),(0,o.kt)("p",null,"Finally, you might want to enable Dbux auto start by default:"),(0,o.kt)(r.Z,{darkLight:!1,src:"dbux-auto-start-workspace-setting.png",mdxType:"Img"}),(0,o.kt)("p",null,"If dependencies bug out, sometimes running the (very aggressive) clean-up command can help: ",(0,o.kt)("inlineCode",{parentName:"p"},"npm run dbux-reinstall")," (of course we don't recommend this)."),(0,o.kt)("h3",{id:"start-development"},"Start development"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Open project + start webpack",(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"code dbux.code-workspace # open project in vscode\nnpm start # start webpack development build of all projects in watch mode\n"))),(0,o.kt)("li",{parentName:"ol"},"Go to your debug tab, select the ",(0,o.kt)("inlineCode",{parentName:"li"},"dbux-code")," configuration and press F5 (runs dbux-code (VSCode extension) in debug mode)"),(0,o.kt)("li",{parentName:"ol"},"Inside of the new window, you can then use the development version of ",(0,o.kt)("inlineCode",{parentName:"li"},"dbux-code"))),(0,o.kt)("h3",{id:"adding-dependencies"},"Adding dependencies"),(0,o.kt)("p",null,"We use Lerna with Yarn workspaces, so instead of ",(0,o.kt)("inlineCode",{parentName:"p"},"npm i pkg"),", we can do the following:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Adding ",(0,o.kt)("inlineCode",{parentName:"li"},"pkg")," to ",(0,o.kt)("inlineCode",{parentName:"li"},"@dbux/something")," (where ",(0,o.kt)("inlineCode",{parentName:"li"},"dbux-something")," is the folder containing the package ",(0,o.kt)("inlineCode",{parentName:"li"},"@dbux/something"),"):\n",(0,o.kt)("inlineCode",{parentName:"li"},"npx lerna add --scope=@dbux/something pkg"),(0,o.kt)("inlineCode",{parentName:"li"},"npx lerna add --scope=@dbux/common pkg"),(0,o.kt)("inlineCode",{parentName:"li"},"npx lerna add --scope=dbux-code pkg      # note: dbux-code's package name has a dash (-), not a slash (/)!"))),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Adding ",(0,o.kt)("inlineCode",{parentName:"li"},"pkg")," as devDependency to the root:\n",(0,o.kt)("inlineCode",{parentName:"li"},"yarn add --dev -W pkg"))),(0,o.kt)("h3",{id:"using-dbux-local-development-build"},"Using Dbux Local Development Build"),(0,o.kt)("p",null,"If you want to use the local development build of Dbux in other folders, make sure to hard-link them."),(0,o.kt)("p",null,"E.g. on Windows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ps"},"mkdir ..\\..\\node_modules\\@dbux\nmklink /J ..\\..\\node_modules\\@dbux\\babel-plugin ..\\..\\..\\dbux\\dbux-babel-plugin\nmklink /J ..\\..\\node_modules\\@dbux\\runtime ..\\..\\..\\dbux\\dbux-runtime\n")),(0,o.kt)("h2",{id:"joining-the-community"},"Joining the Community"),(0,o.kt)("p",null,"While you can certainly try to get started on your own, you probably make your life a lot easier by ",(0,o.kt)("a",{parentName:"p",href:"https://discord.gg/8kR2a7h"},"join the dev team on Discord")," first :)"),(0,o.kt)("h2",{id:"vscode-extension-development"},"VSCode extension development"),(0,o.kt)("h3",{id:"adding-a-commandbutton"},"Adding a command/button"),(0,o.kt)("p",null,"(VSCode's buttons are representation of commands, you must add a command before adding a button)"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Register command in ",(0,o.kt)("inlineCode",{parentName:"p"},"contributes.commands")," section of package.json as following(title and icon are optional):"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "commands": [\n    {\n      "command": "<COMMAND_ID>",\n      "title": "<TITLE>",\n      "icon": {\n        "light": "<PATH_TO_YOUR_ICON>",\n        "dark": "<PATH_TO_YOUR_ICON>"\n      }\n    }\n  ]\n}\n'))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Bind the command with a callback function in js file:"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},"import { registerCommand } from './commands/commandUtil';\nregisterCommand(context, '<COMMAND_ID>', callback);\n"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Depends on whether the command should be shown in command palette, add the following to ",(0,o.kt)("inlineCode",{parentName:"p"},"contributes.menus.commandPalette")," section in package.json:"),(0,o.kt)("p",{parentName:"li"},"Show command in command palette\n(use ",(0,o.kt)("inlineCode",{parentName:"p"},'"when": "!dbux.context.activated"')," instead if you want show it before dbux has been activated)"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "commantPalette": [\n    {\n      "command": "<COMMAND_ID>",\n      "when": "dbux.context.activated"\n    }\n  ]\n}\n')),(0,o.kt)("p",{parentName:"li"},"Hide command from command palette"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "commantPalette": [\n    {\n      "command": "<COMMAND_ID>",\n      "when": "false"\n    }\n  ]\n}\n'))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Finally, configure where the button should be shown(skip this step if you don't want a button):"),(0,o.kt)("p",{parentName:"li"},"To show button in..."),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"navigation bar(upper-right corner), add the following to ",(0,o.kt)("inlineCode",{parentName:"li"},"contributes.menus.editor/title"))),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "editor/title": [\n    {\n      "command": "<COMMAND_ID>",\n      "when": "dbux.context.activated",\n      "group": "navigation"\n    } \n  ] \n}\n')),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"tree view title, add the following to ",(0,o.kt)("inlineCode",{parentName:"li"},"contributes.menus.view/title"),"\n( ",(0,o.kt)("inlineCode",{parentName:"li"},"<VIEW_ID>")," is defined in ",(0,o.kt)("inlineCode",{parentName:"li"},"contributes.views.dbuxViewContainer")," section)")),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "view/title": [\n    {\n      "command": "<COMMAND_ID>",\n      "when": "view == <VIEW_ID>",\n      "group": "navigation"\n    } \n  ] \n}\n')),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"tree view item, add the following to ",(0,o.kt)("inlineCode",{parentName:"li"},"contributes.menus.view/item/context"),"\n( ",(0,o.kt)("inlineCode",{parentName:"li"},"<VIEW_ID>")," is defined in ",(0,o.kt)("inlineCode",{parentName:"li"},"contributes.views.dbuxViewContainer")," section and ",(0,o.kt)("inlineCode",{parentName:"li"},"<NODE_CONTEXT_ID>")," is defined programmatically in ",(0,o.kt)("inlineCode",{parentName:"li"},"TreeItem.contextValue")," )")),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "view/item/context": [\n    {\n      "command": "<COMMAND_ID>",\n      "when": "view == <VIEW_ID> && viewItem == <NODE_CONTEXT_ID>",\n      "group": "inline"\n    }\n  ]\n}\n')),(0,o.kt)("p",{parentName:"li"},"NOTES:"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"You can sort buttons by adding suffix ",(0,o.kt)("inlineCode",{parentName:"li"},"@<number>")," to ",(0,o.kt)("inlineCode",{parentName:"li"},"group")," property. e.g. ",(0,o.kt)("inlineCode",{parentName:"li"},'"group": "inline@5"')),(0,o.kt)("li",{parentName:"ul"},"If you remove ",(0,o.kt)("inlineCode",{parentName:"li"},'"group": "navigation"')," , the button will be listed in a dropdown menu, see ",(0,o.kt)("a",{parentName:"li",href:"https://code.visualstudio.com/api/references/contribution-points#Sorting-of-groups"},"Sorting of groups")," for more information"),(0,o.kt)("li",{parentName:"ul"},"The ",(0,o.kt)("inlineCode",{parentName:"li"},"when")," property defines when should the button be visible, see ",(0,o.kt)("a",{parentName:"li",href:"https://code.visualstudio.com/docs/getstarted/keybindings#_when-clause-contexts"},"'when' clause contexts")," for more available condition")))),(0,o.kt)("p",null,"TODO: more to be said here in the future (consider ",(0,o.kt)("a",{parentName:"p",href:"https://gist.github.com/PurpleBooth/b24679402957c63ec426"},"https://gist.github.com/PurpleBooth/b24679402957c63ec426"),")"),(0,o.kt)("h2",{id:"joining-the-community-1"},"Joining the Community"),(0,o.kt)("p",null,"While you can certainly try to get started on your own, you probably make your life a lot easier by joining the dev team on ",(0,o.kt)("a",{parentName:"p",href:"https://discord.gg/8kR2a7h"},"DISCORD")," first :)"))}s.isMDXComponent=!0}}]);